{% include 'settings' %}

{%- assign guest_login_title = 'customer.login.guest_title' | t -%}
{%- assign login_title = 'customer.login.title' | t -%}
{%- assign recover_password_title = 'customer.recover_password.title' | t -%}

{% include 'content-open' class:'column-max padding-top-200 padding-bottom-200' %}

<div class="column-extra-narrow">

  {% comment %}
    Customer login
  {% endcomment %}
  <div id="customer-login">
    {% include 'page-header' class:'text-center' title: login_title %}

    <p class="message text-center text-light margin-top">{{ 'customer.login.message_html' | t }}</p>

    {% comment %}
      Success message
    {% endcomment %}
    <div id="recover-password-success" class="panel green text-center hidden">
      {{ 'customer.recover_password.success' | t }}
    </div>

    {% comment %}
      Customer login form
    {% endcomment %}
    {% form 'customer_login' %}

      {% include 'form-errors' %}

      {% comment %}
        Email
      {% endcomment %}
      <div class="row">
        {% comment %}<label for="email">{{ 'customer.login.email_field_label' | t }}</label>{% endcomment %}
        <input type="email" id="email" name="customer[email]" value="{{ form.email }}" placeholder="{{ 'customer.login.email_field_placeholder' | t }}" data-auto-focus>
        {% include 'field-error-message' field: 'email' %}
      </div>

      {% comment %}
        Password
      {% endcomment %}
      <div class="row">
        {% comment %}<label for="customer_password">{{ 'customer.login.password_field_label' | t }}</label>{% endcomment %}
        <input type="password" id="customer_password" name="customer[password]" value="{{ form.password }}" placeholder="{{ 'customer.login.password_field_placeholder' | t }}">
        {% include 'field-error-message' field: 'password' %}
      </div>

      {% comment %}
        Submit
      {% endcomment %}
      <div class="form-actions text-center width-100">
        <p class="no-margin-bottom">
          <input class="button" type="submit" value="{{ 'customer.login.submit' | t }}">
        </p>

        {% comment %}
          Separator
        {% endcomment %}
        {% include 'separator' class:'lined margin-top-150 margin-bottom' %}

        <p class="font-size-15 margin-bottom-50">
          {{ 'customer.login.create_account' | t | customer_register_link }}
        </p>

        <p class="font-size-15 no-margin-bottom">
          <a href="#" class="toggle-password-recovery" data-show-module-id="customer-recover-password">{{ 'customer.login.recover_password' | t }}</a>
        </p>
      </div>

    {% endform %}

  </div>


  {% comment %}
    Customer recover password
  {% endcomment %}
  <div id="customer-recover-password" style="display:none">
    {% include 'page-header' class:'text-center' title: recover_password_title %}

    <p class="message text-center text-light margin-top">{{ 'customer.recover_password.message_html' | t }}</p>

    {% comment %}
      Recover customer password form
    {% endcomment %}
    {% form 'recover_customer_password' %}

      {% include 'form-errors' %}

      {% comment %}
        Success message
      {% endcomment %}
      {% if form.posted_successfully? %}
        <span class="hidden" data-recover-password-success></span>
      {% endif %}

      {% comment %}
        Email
      {% endcomment %}
      <div class="row">
        {% comment %}<label for="email">{{ 'customer.recover_password.email_field_label' | t }}</label>{% endcomment %}
        <input type="email" id="email" name="email" value="{{ form.email }}" placeholder="{{ 'customer.recover_password.email_field_placeholder' | t }}">
        {% include 'field-error-message' field: 'email' %}
      </div>


      <div class="form-actions text-center width-100">
        <p class="no-margin-bottom">
          <input class="button" type="submit" value="{{ 'customer.recover_password.submit' | t }}">
        </p>

        {% comment %}
          Separator
        {% endcomment %}
        {% include 'separator' class:'lined margin-top-150 margin-bottom' %}

        <p class="font-size-15 no-margin-bottom">
          <a href="#" class="toggle-password-recovery" data-show-module-id="customer-login">{{ 'customer.recover_password.cancel' | t }}</a>
        </p>
      </div>

    {% endform %}

  </div>

  {% comment %}
    If accounts are set as optional, the following will be shown as an option
    during checkout, not on the default /login page.
  {% endcomment %}
  {% if shop.checkout.guest_login %}
    <div class="text-center">
    {% include 'page-header' class:'text-center' title: guest_login_title %}
    {% include 'separator' %}
    {% form 'guest_login' %}
      <input type="submit" class="button" value="{{ 'customer.login.guest_submit' | t }}">
    {% endform %}
    </div>
  {% endif %}

</div>

{% include 'content-close' %}

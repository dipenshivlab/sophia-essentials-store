{% include 'settings' %}

{%- assign sidebar = false -%}

{% include 'content-open' class:'column-max', sidebar: false %}
{% include 'page-header' title: page.title %}
{% include 'separator' %}

<div class="row">

  <div class="large-6 columns">
    {{ page.content }}
  </div>

  {% comment %} Separator {% endcomment %}
  {% include 'separator' class:'margin-top margin-bottom hide-for-large' %}

  <div class="large-5 large-push-1 columns">

    {% comment %} Contact form {% endcomment %}
    <div id="contact-form">
      {%- assign formId = 'ContactForm' -%}
      {% form 'contact', id: formId %}

        {% comment %} Success message {% endcomment %}
        {% if form.posted_successfully? %}
          <div class="form-success panel green text-center font-size-15" data-form-status role="alert">
            {{ 'contact.form.posted_successfully' | t }}
          </div>
        {% endif %}

        {% comment %} Error message {% endcomment %}
        {% render 'form-errors', form: form %}

        {% comment %} Name {% endcomment %}
        <div class="row">
          {% comment %}<label for="name">{{ 'contact.form.name_field_label' | t }}</label>{% endcomment %}
          <input type="text" id="name" name="contact[name]" value="{{ form.name }}" placeholder="{{ 'contact.form.name_field_placeholder' | t }}" aria-label="{{ 'contact.form.name_field_placeholder' | t }}" {% unless form.errors or form.posted_successfully?  %} data-auto-focus {% endunless %}>
          {% render 'field-error-message', form: form, field: 'name' %}
        </div>

        {% comment %} Email {% endcomment %}
        <div class="row">
          {% comment %}<label for="email">{{ 'contact.form.email_field_label' | t }}</label>{% endcomment %}
          <input type="email" id="email" name="contact[email]" value="{{ form.email }}" placeholder="{{ 'contact.form.email_field_placeholder' | t }}"
            aria-label="{{ 'contact.form.email_field_placeholder' | t }}"
            class="{% if form.errors %} error {% endif %}"
            {% if form.errors %}
                  aria-invalid="true"
                  aria-describedby="{{ formId }}-email-error"
                  data-form-status
              {% endif %}>
            {% render 'field-error-message', form: form, field: 'email' %}
        </div>

        {% comment %} Message {% endcomment %}
        <div class="row">
          {% comment %}<label for="message">{{ 'contact.form.message_field_label' | t }}</label>{% endcomment %}
          <textarea id="message" name="contact[body]" placeholder="{{ 'contact.form.message_field_placeholder' | t }}" aria-label="{{ 'contact.form.message_field_placeholder' | t }}" rows="6">{% if form.body %}{{ form.body }}{% endif %}</textarea>
          {% render 'field-error-message', form: form, field: 'body' %}
        </div>

        {% comment %} Submit {% endcomment %}
        <div class="form-actions margin-top-50 text-right">
          <button type="submit" class="button">{{ 'contact.form.submit' | t }}</button>
        </div>

      {% endform %}
    </div>
  </div>

</div>

{% include 'content-close', sidebar : false %}

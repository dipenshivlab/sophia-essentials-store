{%- assign cc = class -%}
{%- assign pc = 'primary small-12 columns' -%}
{%- assign sc = 'secondary small-12 columns' -%}
{% assign tt = template %}

{% include 'set-template-type' %}

{% comment %}
  Set the default padding
{% endcomment %}
{% unless cc contains 'padding-top' %}
  {%- assign cc = cc | append: ' ' | append: content_padding_top_class -%}
{% endunless %}

{% unless cc contains 'padding-bottom' %}
 {%- assign cc = cc | append: ' ' | append: content_padding_bottom_class -%}
{% endunless %}

{% comment %}
  If the template doesn't specifically enable or disable the sidebar then check the settings to see if the sidebar is enabled for this template type
{% endcomment %}
{% if sidebar != false %}
  {% unless sidebar %}
    {%- assign settings_show_sidebar = 'sidebar_show_' | append: template_type -%}
    {% if settings[settings_show_sidebar] %}
      {%- assign sidebar = true -%}
    {% endif %}
  {% endunless %}
{% endif %}

{% comment %}
  Show the sidebar
{% endcomment %}
{% if sidebar %}

  {% comment %}
    Set content width to max if sidebar is enabled
  {% endcomment %}
  {% unless cc contains 'column-' %}
   {%- assign cc = cc | append: ' column-max' %}
  {% endunless %}

  {% comment %}
    Show on side set in settings unless otherwise specified
  {% endcomment %}
  {% unless sidebar_side %}
    {%- assign sidebar_side = settings.sidebar_side -%}
  {% endunless %}

  {% comment %}
    Set main content wrap class
  {% endcomment %}
  {%- assign cc = cc | append: ' has-sidebar sidebar-' -%}
  {%- assign cc = cc | append: sidebar_side -%}

  {% comment %}
    Set primary content class
  {% endcomment %}
  {%- assign primary_span = 12 | minus: sidebar_span -%}
  {%- assign pc = pc | append: ' medium-8 large-' -%}
  {%- assign pc = pc | append: primary_span -%}

  {% comment %}
    Set secondary content (sidebar) class
  {% endcomment %}
  {%- assign sc = sc | append: ' medium-4 large-' -%}
  {%- assign sc = sc | append: sidebar_span -%}

  {% comment %}
    If sidebar is on left side
  {% endcomment %}
  {% if sidebar_side == 'left' %}
    {%- assign pc = pc | append: ' float-right-i no-margin-right' -%}
    {% comment %}
      {%- assign pc = pc | append: ' medium-push-4 large-push-' -%}
      {%- assign pc = pc | append: sidebar_span -%}
      {%- assign sc = sc | append: ' medium-pull-12 large-pull-12' -%}
    {% endcomment %}
  {% endif %}

  {% comment %}
    Show/hide sidebar on mobile
  {% endcomment %}
  {% if sidebar_show_small == false %}
    {%- assign sc = sc | append: ' show-for-medium-up' -%}
  {% endif %}

{% endif %}

{%- assign class = nil -%}

<div id="content-wrap" class="row {{ cc }}">
  <section class="{{ pc }}">
    <main role="main">
